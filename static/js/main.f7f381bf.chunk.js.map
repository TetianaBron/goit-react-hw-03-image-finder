{"version":3,"sources":["Components/ImageGallery/ImageGallery.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Layout/Layout.module.css","Components/Layout/Layout.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","services/pixabay-api.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Layout","children","className","s","layout","Searchbar","state","query","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","src","alt","ImageGalleryItemImage","Button","onIncrement","ButtonSection","onClick","api","fetchImg","page","fetch","then","response","json","Status","ImageGallery","item","status","incrementPage","pixabayAPI","catch","resetPage","prevProps","prevState","Loader","color","height","width","timeout","message","hits","length","map","id","webformatURL","tags","MessageNotFound","Query","App","handleFormSubmit","defaultProps","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.f7f381bf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3nFvb\",\"Loader\":\"ImageGallery_Loader__7N_e0\",\"MessageNotFound\":\"ImageGallery_MessageNotFound__2nauL\",\"Query\":\"ImageGallery_Query__L9rBy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1R6II\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3LZie\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__286Eg\",\"ButtonSection\":\"Button_ButtonSection__3S3X5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__cZwjm\"};","import React from 'react';\nimport s from './Layout.module.css';\n\nconst Layout = ({ children }) =>\n    <div className={s.layout}>{children}</div>;\n\nexport default Layout;","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//import { ImSearch } from 'react-icons/im';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func,\r\n  };\r\n  \r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleQueryChange = event => {\r\n    this.setState({ query: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.query.trim() === '') {\r\n      toast.error(\"Введите что-то.\");\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n              <input\r\n                 className={s.SearchFormInput}\r\n                 type=\"text\"\r\n                 name=\"query\"\r\n                 value={this.state.query}\r\n                 onChange={this.handleQueryChange}\r\n                 autoComplete=\"off\"\r\n                 autoFocus\r\n                 placeholder=\"Search images and photos from Pixabay\"\r\n              />\r\n           </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({src, alt}) => (\r\n    <div className={s.ImageGalleryItem}>\r\n        <img src={src} alt={alt} className={s.ImageGalleryItemImage} />\r\n    </div>\r\n)\r\n\r\nImageGalleryItem.propTypes = {\r\n    src: PropTypes.string,\r\n    alt: PropTypes.string.isRequired,\r\n    \r\n};\r\n\r\nexport default ImageGalleryItem;","import s from './Button.module.css';\r\n\r\nconst Button = ({ onIncrement }) => (\r\n    <div className={s.ButtonSection}>\r\n        <button type=\"button\" onClick={() => onIncrement()} className={s.Button}>Load more</button>\r\n    </div>\r\n)\r\n\r\nexport default Button;","function fetchImg(query, page) {\r\n  const BASE_URL = 'https://pixabay.com/api';\r\n  const KEY = '19207978-b8cc5d5178f1c84e5ac39b1c7';\r\n  const perPage = 12;\r\n  \r\n    return fetch(`${BASE_URL}/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`)\r\n      .then(response => response.json());\r\n}\r\n\r\nconst api = {\r\n  fetchImg,\r\n};\r\n\r\nexport default api;\r\n\r\n// function incrementPage(page) {\r\n//     page += 1;\r\n//     fetchImg()\r\n//   }\r\n\r\n// export default incrementPage;\r\n      \r\n// function resetPage() {\r\n//     page = 1;\r\n// }\r\n  \r\n// export default resetPage;","import { Component } from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport pixabayAPI from '../../services/pixabay-api';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nexport default class ImageGallery extends Component {\r\n    static propTypes = {\r\n    query: PropTypes.string.isRequired,\r\n    };\r\n    \r\n    state = {\r\n        item: [],\r\n        error: null,\r\n        status: Status.IDLE,\r\n        page: 1\r\n    };\r\n\r\n    incrementPage = () => {\r\n        this.state.page += 1;\r\n        this.setState({ status: Status.PENDING })\r\n        pixabayAPI\r\n            .fetchImg(this.props.query, this.state.page)\r\n             .then(item => this.setState({ item, status: Status.RESOLVED }))\r\n                .catch(error => this.setState({ error, status: Status.REJECTED }))\r\n    }\r\n    \r\n    resetPage = () => {\r\n        this.state.page = 1;\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.query !== this.props.query) {\r\n            this.setState({ status: Status.PENDING })\r\n            this.resetPage();\r\n            pixabayAPI\r\n                .fetchImg(this.props.query, this.state.page)  \r\n                .then(item => this.setState({ item, status: Status.RESOLVED }))\r\n                .catch(error => this.setState({ error, status: Status.REJECTED }))\r\n       }\r\n       \r\n    }\r\n    \r\n    render() {\r\n        const { item, error, status } = this.state;\r\n\r\n        if (status === 'idle') {\r\n            return <></>\r\n        }\r\n\r\n        if (status === 'pending') {\r\n            return (\r\n                <div className={s.Loader}>\r\n                    <Loader\r\n                         type=\"Puff\"\r\n                         color=\"#00BFFF\"\r\n                         height={260}\r\n                         width={260}\r\n                         timeout={3000}\r\n                    />\r\n                 </div>)\r\n        }\r\n\r\n        if (status === 'rejected') {\r\n            return toast.error(`${error.message}`)\r\n        }\r\n\r\n        if (status === 'resolved') {\r\n            if (item.hits.length > 0) {\r\n                return (\r\n                    <>\r\n                        <ul className={s.ImageGallery}>\r\n                            {item.hits.map(({ id, webformatURL, tags }) => (\r\n                                <li key={id}>\r\n                                    <ImageGalleryItem\r\n                                        src={webformatURL}\r\n                                        alt={tags} />\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                        { item.hits.length > 11 && <Button onIncrement={this.incrementPage} />}\r\n                    </>\r\n                )\r\n            } else {\r\n                return <p className={s.MessageNotFound}><span className={s.Query}>{this.props.query}</span> is not found.</p>;\r\n            }\r\n        }\r\n    }\r\n}\r\n            \r\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Layout from './Components/Layout/Layout';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\n\n    \nexport default class App extends Component {\n\n    static propTypes = {\n    };\n\n    static defaultProps = {};\n\n    state = {\n        query: '',\n    };\n\n    handleFormSubmit = query => {\n        this.setState({ query });\n    };\n\n    render() {\n       \n        return ( \n            <Layout>\n                <Searchbar onSubmit={this.handleFormSubmit} />\n                <ImageGallery query={this.state.query} />\n                <ToastContainer/>\n            </Layout>\n        );\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport  './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />, document.querySelector('#root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2vFhN\",\"SearchForm\":\"Searchbar_SearchForm__3p_VH\",\"SearchFormButton\":\"Searchbar_SearchFormButton__v10O-\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2Nq7x\",\"SearchFormInput\":\"Searchbar_SearchFormInput__njklP\"};"],"sourceRoot":""}